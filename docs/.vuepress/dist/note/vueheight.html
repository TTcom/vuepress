<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä½¿ç”¨ Vue Transition å®ç°é«˜åº¦æ¸å˜åŠ¨ç”» | We Are Dogs</title>
    <meta name="description" content="Just playing around">
    <link rel="icon" href="alien.ico">
    
    <link rel="preload" href="/assets/css/0.styles.911d995a.css" as="style"><link rel="preload" href="/assets/js/app.dbffc04c.js" as="script"><link rel="preload" href="/assets/js/22.7a9bf7ad.js" as="script"><link rel="prefetch" href="/assets/js/10.a51c3565.js"><link rel="prefetch" href="/assets/js/11.8692ef20.js"><link rel="prefetch" href="/assets/js/12.be897bd1.js"><link rel="prefetch" href="/assets/js/13.5bc3755b.js"><link rel="prefetch" href="/assets/js/14.1954e122.js"><link rel="prefetch" href="/assets/js/15.a100791e.js"><link rel="prefetch" href="/assets/js/16.385d68db.js"><link rel="prefetch" href="/assets/js/17.41f61dfb.js"><link rel="prefetch" href="/assets/js/18.e1d07b1a.js"><link rel="prefetch" href="/assets/js/19.771a716a.js"><link rel="prefetch" href="/assets/js/2.7a45deef.js"><link rel="prefetch" href="/assets/js/20.e5a9b547.js"><link rel="prefetch" href="/assets/js/21.08cf531d.js"><link rel="prefetch" href="/assets/js/23.c8a0089b.js"><link rel="prefetch" href="/assets/js/24.9e3c2249.js"><link rel="prefetch" href="/assets/js/25.c8ac5e8d.js"><link rel="prefetch" href="/assets/js/26.c170f48d.js"><link rel="prefetch" href="/assets/js/27.1cce3b58.js"><link rel="prefetch" href="/assets/js/28.610c81fe.js"><link rel="prefetch" href="/assets/js/29.3194459a.js"><link rel="prefetch" href="/assets/js/3.a31e468a.js"><link rel="prefetch" href="/assets/js/30.f91a518f.js"><link rel="prefetch" href="/assets/js/31.c1fee9d8.js"><link rel="prefetch" href="/assets/js/32.aa1cc103.js"><link rel="prefetch" href="/assets/js/33.461bb9bc.js"><link rel="prefetch" href="/assets/js/4.bae1ad70.js"><link rel="prefetch" href="/assets/js/5.384f1ca6.js"><link rel="prefetch" href="/assets/js/6.b698dd64.js"><link rel="prefetch" href="/assets/js/7.60cd7ec8.js"><link rel="prefetch" href="/assets/js/8.cee973e5.js"><link rel="prefetch" href="/assets/js/9.cb3421ff.js">
    <link rel="stylesheet" href="/assets/css/0.styles.911d995a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">We Are Dogs</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/note/" class="nav-link router-link-active">study</a></div><div class="nav-item"><a href="/array/" class="nav-link">æ•°ç»„ç»ƒä¹ </a></div><div class="nav-item"><a href="/javascript/" class="nav-link">javascript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ThinkPHP</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thinkphp/thinkphp5.0/" class="nav-link">ThinkPHP5.0</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/webpack3/" class="nav-link">webpack3.0</a></li><li class="dropdown-item"><!----> <a href="/webpack/webpack4/" class="nav-link">webpack4.0</a></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/note/" class="nav-link router-link-active">study</a></div><div class="nav-item"><a href="/array/" class="nav-link">æ•°ç»„ç»ƒä¹ </a></div><div class="nav-item"><a href="/javascript/" class="nav-link">javascript</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">ThinkPHP</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/thinkphp/thinkphp5.0/" class="nav-link">ThinkPHP5.0</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/webpack3/" class="nav-link">webpack3.0</a></li><li class="dropdown-item"><!----> <a href="/webpack/webpack4/" class="nav-link">webpack4.0</a></li></ul></div></div><div class="nav-item"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>study</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li><li><a href="/note/" class="sidebar-link">chromeæ£€æµ‹å†…å­˜æ³„æ¼</a></li><li><a href="/note/nodeDeploy.html" class="sidebar-link">nodeé¡¹ç›®éƒ¨ç½²</a></li><li><a href="/note/pspeople.html" class="sidebar-link">å¿«é€ŸæŠ å‡ºå¤´åƒ</a></li><li><a href="/note/vueheight.html" class="active sidebar-link">vueheight</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/note/layout.html" class="sidebar-link">ç§»åŠ¨ç«¯é€‚é…é—®é¢˜</a></li><li><a href="/note/aboutgit.html" class="sidebar-link">å…³äºgit</a></li><li><a href="/note/aboutcss.html" class="sidebar-link">aboutcss</a></li><li><a href="/note/vueplugin.html" class="sidebar-link">vueplugin</a></li><li><a href="/note/vue_proxy.html" class="sidebar-link">vue_proxy</a></li><li><a href="/note/vue_jwt.html" class="sidebar-link">vue_jwt</a></li><li><a href="/note/treefind.html" class="sidebar-link">éå†æ ‘ç»“æ„æ•°æ®</a></li><li><a href="/note/npm_releasevue.html" class="sidebar-link">npm_releasevue</a></li><li><a href="/note/classArray.html" class="sidebar-link">ç±»æ•°ç»„å¯¹è±¡</a></li><li><a href="/note/deepclone.html" class="sidebar-link">æ·±æ‹·è´</a></li></ul> </div> <div class="page"> <div class="content"><h3 id="ä½¿ç”¨-vue-transition-å®ç°é«˜åº¦æ¸å˜åŠ¨ç”»"><a href="#ä½¿ç”¨-vue-transition-å®ç°é«˜åº¦æ¸å˜åŠ¨ç”»" aria-hidden="true" class="header-anchor">#</a> ä½¿ç”¨ Vue Transition å®ç°é«˜åº¦æ¸å˜åŠ¨ç”»</h3> <div class="tip custom-block"><p class="custom-block-title"><span style="color:#999;font-weight: initial;"><a href="https://blogs.vicsdf.com/article/638#">åŸæ–‡é“¾æ¥</a></span> ğŸ‰ ğŸ’¯</p> <p></p></div> <p>CSS Transition ä¸­çš„é«˜åº¦ä» 0 åˆ° auto ä»¥åŠä» auto åˆ° 0 æ˜¯ä¸ªè‰°éš¾çš„ä»»åŠ¡ï¼ˆç›¸æ¯”äºå…¶å®ƒå±æ€§çš„ transition è€Œè¨€ï¼‰ï¼ŒåŸå› ä¹Ÿå¾ˆç®€å•ï¼šå°±æ˜¯æµè§ˆå™¨ä¸æ”¯æŒæ­¤ç±» CSS åŠ¨ç”»ï¼Œæ— è®ºåœ¨ä½•ç§æƒ…å†µä¸‹ï¼Œå®ƒéƒ½ä¸ä¼šæˆåŠŸã€‚
ä½†æ˜¯é«˜åº¦æ¸å˜æ˜¯ä¸ªå¾ˆå¸¸ç”¨çš„åŠ¨ç”»æ•ˆæœï¼Œå¦‚æœç»•è¿‡çº¯ CSS height å±æ€§ï¼Œæœ‰å¦‚ä¸‹æ–¹å¼æ¥å®ç°ï¼š
ä½¿ç”¨ max-height å±æ€§ï¼Œä¸ºå…ƒç´ è®¾ç½®ä¸€ä¸ªä¸å¯èƒ½è¾¾åˆ°çš„æœ€å¤§é«˜åº¦ï¼Œç„¶åå°† transition è½¬æ¢ä¸º max-height ä» 0 åˆ°æŸä¸ªå›ºå®šçš„å€¼ï¼› ä½¿ç”¨ transform: scaleY å®ç°ï¼› ä½¿ç”¨ JavaScript åŠ¨ç”»ã€‚
ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆéƒ½ä»æŸç§ç¨‹åº¦ä¸Šè§£å†³äº†é—®é¢˜ï¼Œä½†æ˜¯ï¼Œå„æœ‰å„çš„é™åˆ¶äºç¼ºç‚¹ï¼š
ä½¿ç”¨ max-height ä¼šé€ æˆåŠ¨ç”»æ•ˆæœä¸é¢„æœŸæœ‰äº›è®¸å‡ºå…¥ï¼ˆåŠ é€Ÿä¸å»¶è¿Ÿï¼‰ï¼Œå®é™…ä½“éªŒæ˜¯ï¼Œå®ƒä¸å®é™… height åŒºåˆ«è¶Šå¤§ï¼Œè¿™ç§æ„Ÿè§‰å°±ä¼šè¶Šæ˜æ˜¾ï¼ŒåŸå› ä¹Ÿå¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå› ä¸º transition çš„èµ·ç‚¹ä¸ç»ˆç‚¹å‡ä¸åœ¨å®é™…çš„èµ·ç‚¹ä¸ç»ˆç‚¹ä¸Šï¼› ä½¿ç”¨ scaleY æœ‰ä¸¤ä¸ªé—®é¢˜ï¼šä¸€æ˜¯åŠ¨æ•ˆä¸é«˜åº¦æ¸å˜ä¸ä¸€æ ·ï¼Œå…ƒç´ çš„å†…å®¹çœ‹ä¸Šå»æ˜¯è¢«å‹ç¼©äº†ï¼ˆè€Œä¸æ˜¯è¢«æ”¶èµ·æˆ–å±•å¼€ï¼‰ï¼Œè¿™ä¸ªå€’å¯ä»¥å¿è€ã€‚å¯æ¶çš„æ˜¯ç¬¬äºŒç‚¹ï¼Œå®ƒè™½ç„¶çœ‹èµ·æ¥æ˜¯æ¸å˜äº†ï¼Œç„¶è€Œé«˜åº¦å´å¹¶æ²¡æœ‰è¢«æ¸å˜ï¼æ„æ€æ˜¯ï¼Œåœ¨å®ƒä¸‹é¢çš„å…ƒç´ ä¼šåœ¨åŠ¨ç”»ç»“æŸå&quot;è·³&quot;åˆ°å¦ä¸€ä¸ªä½ç½®è€Œä¸æ˜¯å¹³æ»‘åœ°æ¸å˜åˆ°è¿™ä¸ªä½ç½®ï¼› ä½¿ç”¨ JavaScript åŠ¨ç”»å…¶å®å·²ç»å¯ä»¥å®Œç¾åœ°å®ç°é«˜åº¦æ¸å˜äº†ï¼Œç„¶è€Œï¼Œé—®é¢˜æ˜¯æˆ‘ä»¬éœ€è¦å¼•å…¥é¢å¤–çš„ lib æ¥åšæˆè¿™ä»¶äº‹ï¼Œæˆ‘å¯æ²¡å¿ƒæƒ…çº¯ js æ‰‹å†™åŠ¨ç”»ã€‚
æ‰€ä»¥ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯ï¼š
ä½¿ç”¨ css transition å®ŒæˆåŠ¨ç”»ï¼› åŠ¨ç”»æ•ˆæœå¿…é¡»å®Œç¾ï¼› ä¸ vue transition ç»„ä»¶é›†æˆã€‚
è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆè‰°éš¾çš„ä»»åŠ¡ã€‚ç»è¿‡äº†å¤§é‡çš„å¤±è´¥å°è¯•ï¼Œæœ€ç»ˆè¿˜æ˜¯ google æ•‘äº†æˆ‘ã€‚ã€‚ä¸‹é¢å…ˆç›´æ¥ä¸Šè§£å†³æ–¹æ¡ˆã€‚
css éƒ¨åˆ†éå¸¸ç®€å•ï¼Œå› ä¸ºå®ƒä¸å¯ä»¥å®Œæˆä» 0 åˆ° auto çš„æ¸å˜ï¼Œå´å¯ä»¥å®Œæˆä» 0 åˆ°å›ºå®šå€¼çš„æ¸å˜ï¼Œå› æ­¤ï¼Œæ€è·¯æ˜¯æ¸å˜ä»ç”± css å®Œæˆï¼Œä½†ä¼šé€šè¿‡é’©å­ç»™å…ƒç´ åšäº›é­”æ³•æ“ä½œï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">.</span>collapse <span class="token punctuation">{</span>
  transition<span class="token punctuation">:</span> height <span class="token number">.3</span>s ease<span class="token operator">-</span><span class="token keyword">in</span><span class="token operator">-</span>out<span class="token punctuation">;</span>
  overflow<span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä¸‹é¢æ˜¯é‡ç‚¹ vue transition éƒ¨åˆ†ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code>on<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">enter</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'auto'</span>
    <span class="token comment">// noinspection JSSuspiciousNameCombination</span>
    <span class="token keyword">let</span> endWidth <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>height
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'0px'</span>
    el<span class="token punctuation">.</span>offsetHeight <span class="token comment">// force repaint</span>
    <span class="token comment">// noinspection JSSuspiciousNameCombination</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> endWidth
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">afterEnter</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">leave</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>height
    el<span class="token punctuation">.</span>offsetHeight <span class="token comment">// force repaint</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'0px'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">afterLeave</span> <span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™äº›é’©å­å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š
enter ä¼šåœ¨å…ƒç´ ä»æ— åˆ°æœ‰çš„æ—¶å€™è§¦å‘ï¼Œå³æˆ‘ä»¬æœŸæœ›çš„é«˜åº¦ä» 0 åˆ° auto çš„æ—¶å€™ï¼› afterEnter ä¼šåœ¨ enter ç»“æŸåè§¦å‘ï¼› leave ä¼šåœ¨å…ƒç´ ä»æœ‰åˆ°æ— ï¼Œå³é«˜åº¦ä» auto åˆ° 0 çš„æ—¶å€™è§¦å‘ï¼› afterLeave åŒç†
è¿™äº›é’©å­å†…çš„ä»£ç çœŸçš„å¾ˆé­”æ€§ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š
enter
è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå…ƒç´ å®é™…ä¸Šå·²ç»è¢«æ’å…¥åˆ° dom ä¸­ï¼ˆ v-if ï¼‰æˆ–è€… display å±æ€§ä¸ä¸º none äº†ï¼ˆ v-show ï¼‰ï¼Œå› æ­¤ï¼Œæ˜¯å¯ä»¥è·å–åˆ°å®ƒçš„å®é™…é«˜åº¦çš„ã€‚
å…ˆå°†å…¶é«˜åº¦è®¾ç½®ä¸º autoï¼Œç„¶åé€šè¿‡ getComputedStyle æ–¹æ³•æ¥è·å–å…¶å®é™…é«˜åº¦ï¼› å°†å…¶é«˜åº¦è®¾ç½®ä¸º 0ï¼› å°†å…¶é«˜åº¦è®¾ç½®ä¸ºç¬¬ä¸€æ­¥å–å¾—çš„å®é™…é«˜åº¦ã€‚
ä½†æ˜¯ï¼è¿™ä¹ˆåšæœ‰ä¸ªè‡´å‘½é—®é¢˜ï¼Œæˆ‘æ˜¯åœ¨åŒä¸€ä¸ªæ–¹æ³•å†…åŒæ­¥å®Œæˆè¿™äº›æ­¥éª¤çš„ï¼Œå› æ­¤ï¼Œç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥æ‰§è¡Œçš„ç»“æœçœ‹èµ·æ¥å°±åƒè·³è¿‡äº†ç¬¬äºŒæ­¥è€Œåªæ‰§è¡Œäº†ç¬¬ä¸‰æ­¥ä¸€æ ·ï¼Œè¿™æ ·å°±æ²¡æœ‰é«˜åº¦ä» 0 åˆ°æŸä¸ªå€¼çš„è¿‡ç¨‹ï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰æ¸å˜åŠ¨ç”»äº†ã€‚
é‡ç‚¹ï¼
è¿™é‡Œè¯´çš„é­”æ³•ï¼Œå®é™…ä¸Šå°±æ˜¯é‚£ä¸€å¥çœ‹ä¼¼å•¥éƒ½æ²¡åšçš„ el.offsetHeightï¼Œå®ƒä½¿æµè§ˆå™¨å¼ºåˆ¶è¿›å…¥äº†ä¸€ä¸ª repaint æµç¨‹ã€‚è‡³äºå®ƒä¸ºä»€ä¹ˆèƒ½å®ç°è¿™ä¸ªåŠŸèƒ½ï¼ŒçœŸçš„ä¸å¤ªæ¸…æ¥šï¼Œgoogle ä¸€æ³¢ä¹Ÿåªæ˜¯çŸ¥å…¶ç„¶ä¸çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œæˆ‘ä»¬ç”šè‡³ä¸ç”¨ç»™å®ƒèµ‹å€¼ï¼Œåªè¦å¼•ç”¨ä¸€æ¬¡å°±è¡Œäº†ã€‚å¯ä»¥çœ‹åšä¸€ä¸ªéå¸¸ç¥å¥‡çš„æŠ€å·§ã€‚å®æµ‹åœ¨ IE 10 ä»¥ä¸Š / Chrome / Firefox / Safari ä¸Šå‡èƒ½å·¥ä½œã€‚
å› æ­¤ï¼Œenter çš„æµç¨‹å˜ä¸ºï¼š
å…ˆå°†å…¶é«˜åº¦è®¾ç½®ä¸º autoï¼Œç„¶åé€šè¿‡ getComputedStyle æ–¹æ³•æ¥è·å–å…¶å®é™…é«˜åº¦ï¼› å°†å…¶é«˜åº¦è®¾ç½®ä¸º 0ï¼› å¼ºåˆ¶æµè§ˆå™¨é‡ç»˜ï¼› å°†å…¶é«˜åº¦è®¾ç½®ä¸ºç¬¬ä¸€æ­¥å–å¾—çš„å®é™…é«˜åº¦ã€‚
è¿™æ ·åŠ¨ç”»å°±æˆåŠŸæ‰§è¡Œäº†ï¼
è§£äº† enter è¿‡ç¨‹ï¼Œå‰©ä¸‹çš„ afterEnter / leave / afterLeave é’©å­ï¼Œé‡Œé¢çš„å†…å®¹å°±å¾ˆå®¹æ˜“ç†è§£äº†ã€‚
å›è¿‡å¤´æ¥çœ‹ä¸€ä¸‹å®ç°åŸç†å…¶å®å¾ˆç®€å•ç²—æš´ï¼Œå› æ­¤ï¼Œé™¤äº†åœ¨ vue ä¸Šé¢å¯ä»¥è¿™ä¹ˆç©ï¼Œå…¶å®å…¶ä»–æ”¯æŒ css transition çš„æ¡†æ¶è‚¯å®šä¹Ÿæ˜¯å¯ä»¥çš„ï¼ˆå¦‚ angular ä¸­æœ‰ ngAnimate å¯ä»¥å®ç°ï¼‰ï¼Œæœ€ç»ˆè¾¾åˆ°çš„åŠ¨ç”»æ•ˆæœååˆ†å®Œç¾ï¼Œå¹¶ä¸”æ²¡æœ‰å€ŸåŠ©ä¸»æ¡†æ¶ä»¥å¤–çš„ä»»ä½•é¢å¤– js åº“ã€‚</p> <h3 id="htmlå®ä¾‹"><a href="#htmlå®ä¾‹" aria-hidden="true" class="header-anchor">#</a> htmlå®ä¾‹</h3> <div class="language-html extra-class"><pre class="language-html"><code>
<span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
			<span class="token selector">*</span><span class="token punctuation">{</span>
				<span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
				<span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
				
			<span class="token punctuation">}</span>
			<span class="token selector">[v-cloak]</span><span class="token punctuation">{</span>
				<span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">html,body,.list</span><span class="token punctuation">{</span>
				<span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">#app</span><span class="token punctuation">{</span>
				<span class="token property">padding</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">ul li</span><span class="token punctuation">{</span>
				<span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
				<span class="token property">background-color</span><span class="token punctuation">:</span> #00BFFF<span class="token punctuation">;</span>
				<span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
				<span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
				
			<span class="token punctuation">}</span>
			<span class="token selector">li:nth-child(1)</span><span class="token punctuation">{</span>
				<span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token selector">.monday</span><span class="token punctuation">{</span>
					<span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
					<span class="token property">transition</span><span class="token punctuation">:</span> height .3s ease-in-out<span class="token punctuation">;</span>
				
			<span class="token punctuation">}</span>
		</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-cloak</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
					  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ismonday=!ismonday<span class="token punctuation">&quot;</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> peru<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜ŸæœŸ1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">@enter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>enter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@afterEnter</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>afterEnter<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@leave</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>leave<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@afterLeave</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>afterLeave<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>	  
					  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>monday<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ismonday<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
						  ä¹Â·ä¸€å…«äº‹å˜ï¼Œåˆç§°å¥‰å¤©äº‹å˜ã€æŸ³æ¡æ¹–äº‹ä»¶ã€‚æ˜¯1931å¹´9æœˆ18æ—¥å¤œæ—¥æœ¬åœ¨ä¸­å›½ä¸œåŒ—è“„æ„åˆ¶é€ å¹¶å‘åŠ¨çš„ä¸€åœºä¾µåæˆ˜äº‰ï¼Œæ˜¯æ—¥æœ¬å¸å›½ä¸»ä¹‰ä¾µåçš„å¼€ç«¯ã€‚
						  1931å¹´9æœˆ18æ—¥å¤œï¼Œåœ¨æ—¥æœ¬å…³ä¸œå†›å®‰æ’ä¸‹ï¼Œé“é“â€œå®ˆå¤‡é˜Ÿâ€ç‚¸æ¯æ²ˆé˜³æŸ³æ¡æ¹–é™„è¿‘çš„å—æ»¡é“è·¯è·¯è½¨ï¼ˆæ²™ä¿„ä¿®å»ºï¼Œåè¢«æ—¥æœ¬æ‰€å ï¼‰ï¼Œå¹¶æ ½èµƒå«ç¥¸äºä¸­å›½å†›é˜Ÿã€‚æ—¥å†›ä»¥æ­¤ä¸ºå€Ÿå£ï¼Œç‚®è½°æ²ˆé˜³åŒ—å¤§è¥ï¼Œæ˜¯ä¸ºâ€œä¹ä¸€å…«äº‹å˜â€ã€‚æ¬¡æ—¥ï¼Œæ—¥å†›ä¾µå æ²ˆé˜³ï¼Œåˆé™†ç»­ä¾µå äº†ä¸œåŒ—ä¸‰çœã€‚1932å¹´2æœˆï¼Œä¸œåŒ—å…¨å¢ƒæ²¦é™·ã€‚æ­¤åï¼Œæ—¥æœ¬åœ¨ä¸­å›½ä¸œåŒ—å»ºç«‹äº†ä¼ªæ»¡æ´²å›½å‚€å„¡æ”¿æƒï¼Œå¼€å§‹äº†å¯¹ä¸œåŒ—äººæ°‘é•¿è¾¾14å¹´ä¹‹ä¹…çš„å¥´å½¹å’Œæ®–æ°‘ç»Ÿæ²»ã€‚
						  â€œä¹Â·ä¸€å…«äº‹å˜â€æ˜¯æ—¥æœ¬å¸å›½ä¸»ä¹‰é•¿æœŸä»¥æ¥æ¨è¡Œå¯¹åä¾µç•¥æ‰©å¼ æ”¿ç­–çš„å¿…ç„¶çš„ç»“æœï¼Œä¹Ÿæ˜¯ä¼å›¾æŠŠä¸­å›½å˜ä¸ºå…¶ç‹¬å çš„æ®–æ°‘åœ°è€Œé‡‡å–çš„é‡è¦æ­¥éª¤ã€‚å®ƒåŒæ—¶æ ‡å¿—ç€ä¸–ç•Œåæ³•è¥¿æ–¯æˆ˜äº‰çš„å¼€å§‹ï¼Œæ­å¼€äº†ç¬¬äºŒæ¬¡ä¸–ç•Œå¤§æˆ˜ä¸œæ–¹æˆ˜åœºçš„åºå¹•ã€‚
					  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">&gt;</span></span>  
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> peru<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜ŸæœŸ2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> peru<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜ŸæœŸ3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> peru<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜ŸæœŸ4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
					<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">=&quot;</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">line-height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span> peru<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜ŸæœŸ5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
				<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
			
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>vue.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	
	<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		el<span class="token punctuation">:</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">{</span>
			    list<span class="token punctuation">:</span><span class="token string">&quot;ä¸€ä¸ªlist&quot;</span><span class="token punctuation">,</span>
				ismonday<span class="token punctuation">:</span><span class="token boolean">false</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		methods<span class="token punctuation">:</span><span class="token punctuation">{</span>
			<span class="token function">enter</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>
				<span class="token keyword">let</span> endWidth <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">;</span>
				el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'0px'</span><span class="token punctuation">;</span>
				el<span class="token punctuation">.</span>offsetHeight <span class="token comment">// force repaint</span>
				el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> endWidth<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">afterEnter</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">leave</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span>height<span class="token punctuation">;</span>
				el<span class="token punctuation">.</span>offsetHeight <span class="token comment">// force repaint</span>
				el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'0px'</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function">afterLeave</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
	
	
	
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>




</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/note/pspeople.html" class="prev">
          å¿«é€ŸæŠ å‡ºå¤´åƒ
        </a></span> <span class="next"><a href="/note/layout.html">
          ç§»åŠ¨ç«¯é€‚é…é—®é¢˜
        </a>
        â†’
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.dbffc04c.js" defer></script><script src="/assets/js/22.7a9bf7ad.js" defer></script>
  </body>
</html>
